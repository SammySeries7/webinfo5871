<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title> INFO 5871 project </title>
	<link rel="stylesheet" href="app.css">
</head>

<nav class="menu-bar">
	<h1 class="logo">Tittiwat<span>T.</span></h1>
	<ul>
		<li><a href="index.html">Home</a></li>
		<li><a href="#">About</a></li>
		<li><a href="#">Project <i class="fas fa-caret-down"></i></a>

			<div class="dropdown-menu">
				<ul>
					<!--<li><a href="#">Pricing</a></li>-->
					<!--<li><a href="#">Portfolio</a></li>-->
					<li>
						<a href="#">Module-1 <i class="fas fa-caret-right"></i></a>

						<div class="dropdown-menu-1">
							<ul>
								<li><a href="1_1.html">Introduction</a></li>
								<li><a href="1_2.html">Data</a></li>
							</ul>
						</div>
					</li>

					<li>
						<a href="#">Module-2 <i class="fas fa-caret-right"></i></a>

						<div class="dropdown-menu-1">
							<ul>
								<li><a href="1_1.html">Updated Introduction</a></li>
								<li><a href="2_2.html">Clustering</a></li>
								<li><a href="2_3.html">ARM</a></li>
								<li><a href="2_4.html">LDA</a></li>
							</ul>
						</div>
					</li>

					<li>
						<a href="#">Module-3 <i class="fas fa-caret-right"></i></a>

						<div class="dropdown-menu-1">
							<ul>
								<li><a href="#">Module-1</a></li>
								<li><a href="#">Module-2</a></li>
								<li><a href="#">Module-3</a></li>
								<li><a href="#">Module-4</a></li>
							</ul>
						</div>
					</li>

					<li>
						<a href="#">Module-4 <i class="fas fa-caret-right"></i></a>

						<div class="dropdown-menu-1">
							<ul>
								<li><a href="#">Module-1</a></li>
								<li><a href="#">Module-2</a></li>
								<li><a href="#">Module-3</a></li>
								<li><a href="#">Module-4</a></li>
							</ul>
						</div>
					</li>

					<li><a href="#">FAQ</a></li>
				</ul>
			</div>
		</li>
		<li><a href="#">Blog</a>
		</li>
		<li><a href="#">Contact us</a></li>
	</ul>
</nav>

<br>

<body>

	<main id="main">
		<h1>Association Rules Mining</h1>
		<br>

		<section id="pt1" class="card">
			<div class="arial">
				<h2>What ARM does and how to use it to gain information</h2>
				<br>
				<p>
					Association rule mining is a technique used in data mining and machine learning to discover relationships between variables in large datasets. It is a type of unsupervised learning that seeks to identify patterns in data by examining the frequency of co-occurrence of items in a transactional database.
					The basic idea behind association rule mining is to find patterns that describe how items are related to each other. In text mining, association rule mining can be applied to discover patterns and relationships between words or terms that frequently co-occur in a corpus of text documents. The most popular algorithm used for association rule mining is the Apriori algorithm. It works by iteratively generating candidate itemsets and then pruning them based on a minimum criteria threshold. The measures can be support, confidence, or lift. This process continues until no more frequent itemsets can be found.
					Regarding this dataset, the many rules about the electric vehicle words are shown. For example, {stock}&#8594;{Tesla}, {Battery}&#8594;{Charge},{Range}&#8594;{Battery}. Different measures can show the difference perspective of data. For example, confidence will show how strong of the association of the words. If the word A is used, what the probability of word B will show. The different measures will help discover the hidden patterns among the words and create a network of those rules to visualize the connection between words. In addition, the network can help identify the topic roughly and show how each topic connect to each other including the isolated topics. The methods may also initiate new ideas to create more research questions to discover in the further section.

				</p>

		</section>

		<!-- <br> -->

		<section id="pt2" class="card">
			<div class="arial">
			<h2>Data Preparation</h2>
			<br>
				<p>
					The data cleaned in the previous chapter was stored in the csv format. The lemmatized text data was tokenized and store in the single dataframe as shown in the picture below. The TID is the transaction id. The reason to format the single format because the basket format has a problem with the text unicode when the data are saved in the csv file.
				</p>
				
				<br>
				
				<div class="img200">
				<img width="200" src="image/assignment2/part2/image/single.jpg">
				<div class="caption200">single format dataframe</div>
				</div>
				
				<br>
				<div class="img">
				<img width="600" src="image/assignment2/part2/image/single_format_code.jpg">
				<div class="caption">single format code</div>
				</div>
				
				<br>
				
				<p>
				 Then, the single format dataframe is converted to the transactional data using the as function as shown in the picture below.
				</p>
				
				<br>
				
				<div class="img">
				<img width="600" src="image/assignment2/part2/image/transaction.jpg">
				<div class="caption">transaction</div>
				</div>
				
				<br>
				
				<p>
				After that, the transaction data is passed into the apriori function. The used parameters are support, confidence, and minlen. The minimum support threshold and minimum confidence threshold are set at 0.01 and .15. The minlen is set at 2 to prevent the empty left hand side of the rule (LHS). The function is show in the picture below.
				</p>
				<br>
				
				<div class="img">
				<img width="600" src="image/assignment2/part2/image/apriori.jpg">
				<div class="caption">Apriori function</div>
				</div>
				
				<br>
				
				<p>
					After the redundant rules are removed, the top 15 of each measure are collected to compare the results as shown in the pictures below.
				</p>
				
				<br>
				
				<div class="img">
				<img width="600" src="image/assignment2/part2/image/sup_20_1.jpg">
				<div class="caption">The top15 support</div>
				</div>
				
				<br>
				
				<div class="img">
				<img width="600" src="image/assignment2/part2/image/conf_20_1.jpg">
				<div class="caption">The top15 confidence</div>
				</div>
				
				<br>
				
				<div class="img">
				<img width="600" src="image/assignment2/part2/image/lift_20_1.jpg">
				<div class="caption">The top15 lift</div>
				</div>
				
				<br>
				
				<p>
				After this step, the rules are transformed into the dataframe and the special characters are removed. 
				</p>
				
				<br>
				<div class="img">
				<img width="600" src="image/assignment2/part2/image/rules_df.jpg">
				<div class="caption">The dataframe</div>
				</div>
				
				<br>
				<p>
				Then, the rule dataframe is reformatted for the D3 network. The Left hand side (LHS) is changed to the sourcename and the right hand side (RHS) is changed to the targetname. The weight is the selected measure. In this case, lift will be used as the selected measure for the D3 network. The rule dataframe will be used to create edges and nodes in the D3 network. The final result is shown in the picture below.
				</p>
				
				<br>
				<div class="img">
				<img width="600" src="image/assignment2/part2/image/reformat_network.jpg">
				<div class="caption">The rule dataframe</div>
				</div>
				<br>
				
				<br>
				<div class="img">
				<img width="600" src="image/assignment2/part2/image/D3.jpg">
				<div class="caption">The D3 network</div>
				</div>
				<br>
				
				<p>
				In addition to the D3 network, the arulesViz package is used to visualize the word connection.
				</p>
				
				<br>
				<div class="img">
				<img width="600" src="image/assignment2/part2/image/aruleviz_env.jpg">
				<div class="caption">The D3 network</div>
				</div>
				<br>
				

			</div>
		</section>
		
		<section id="pt3" class="card">
			<div class="arial">

			
			<h2>Results and Discussion</h2>
			
			<br>
			<div class="img">
			<img width="600" src="image/assignment2/part2/image/support_sel.png">
			<div class="caption">The D3 network</div>
			</div>
			<br>
			
			<br>
			<div class="img">
			<img width="600" src="image/assignment2/part2/image/supp_1.png">
			<div class="caption">The D3 network</div>
			</div>
			<br>
			<p>
				The used measures are support, confidence, and lift. According to the graph above, if the support level is too high, there are no more 80% confidence level rules. Therefore, the suitable support can be 0.8% and 1%. However, after the rules are used to create the network, the 0.8% support network has a lot of unnecessary rules such as good&#8594;event. Therefore, 1% support is chosen for the model. The confidence level is set at 0.40 to limit the number of rules and remove the unimportant rules. The lift is chosen at more than 1 because the greater lift values (>1) indicate stronger associations between items, and they depend on one another. After the thresholds are applied to the dataset and the redundant rules are removed, the number of rules is around 400 rules.
			</p>
			<br>
			<h4>Top 15 support</h4>
			
			<p>
				Support is the indication of how frequent the itemset appear in the dataset. Many words in these rules often show together in the transaction. Electric&#8594; Vehicle and electric&#8594; Car may not be useful rules because they are just bigrams.  On the contrary, battery&#8594;charge, range&#8594;charge, home&#8594;charge, station&#8594;charge, and time&#8594;charge can be used to discover patterns or topics in the dataset.
			</p>
			
			<br>
			<div class="img">
			<img width="600" src="image/assignment2/part2/image/sup_20_1.jpg">
			<div class="caption">Top 15 support</div>
			</div>
			<br>
			
			<br>
			<div class="img">
			<img width="600" src="image/assignment2/part2/image/sup_20_2.jpg">
			<div class="caption">Top 15 support</div>
			</div>
			<br>
			
			<h4>Top 15 confidence</h4>
			
			<p>
				confidence is the indication of how frequent the itemset appear in the dataset. Many words in these rules often show together in the transaction. Electric&#8594; Vehicle and electric&#8594; Car may not be useful rules because they are just bigrams.  On the contrary, battery&#8594;charge, range&#8594;charge, home&#8594;charge, station&#8594;charge, and time&#8594;charge can be used to discover patterns or topics in the dataset.
			</p>
			
			<br>
			<div class="img">
			<img width="600" src="image/assignment2/part2/image/conf_20_1.jpg">
			<div class="caption">Top 15 confidence</div>
			</div>
			<br>
			
			<br>
			<div class="img">
			<img width="600" src="image/assignment2/part2/image/conf_20_2.jpg">
			<div class="caption">Top 15 confidence</div>
			</div>
			<br>
			
			<h4>Top 15 lift</h4>
			
			<p>
			Lift indicates how strong relation between items have. There are some useful rules which can be used to investigate more for new topics. The examples are {battery, weather}&#8594;cold, {charge, weather}&#8594; cold, and {environment,fuel}&#8594;fossil. The first two examples indicate the charging problem of EVs when the temperature is cold. The last one is about environmental impact from the fossil fuels. The other example are {charge, road}&#8594; trip. Many people can guess that it is the charging problem during the road trip. Some rules are useless such as {tax}&#8594;credit, and {credit}&#8594; tax because they are just bigrams.
			</p>
			
			<br>
			<div class="img">
			<img width="600" src="image/assignment2/part2/image/lift_20_1.jpg">
			<div class="caption">Top 15 lift</div>
			</div>
			<br>
			
			<br>
			<div class="img">
			<img width="600" src="image/assignment2/part2/image/lift_20_2.jpg">
			<div class="caption">Top 15 lift</div>
			</div>
			<br>
			
			<h4>D3 network</h4>
			<br>

			<div class="img">
			<img width="600" src="image/assignment2/part2/image/battery_discuss.png">
			<div class="caption">D3 network</div>
			</div>
			<br>
			
			<p>
			After the rules are visualized in the D3 network, some topics can roughly be seen. The thickness of the edges indicate how strong connection of the words is. There are two big main nodes, which are charge and car. Let start from the battery in the charge node. According to the picture above, when the word “battery” is selected, some connections with battery can be seen. For example, the word “battery” is related to the cold weather, environment, charge, and range. When the cold weather is chosen, it has connections with range, and charging time. From the above information, it can be assumed that battery has a problem in the cold weather, which has an impact on range and charging time. In addition, the battery has some connection with the environment because it is made of the lithium, which comes from the mining and the battery is hard to recycle. When the word “charge” is selected, it is related to time, infrastructure, trip, and mile. As many people known, the battery needs the longer charging time compared to oil-filling time. Besides, a lack of infrastructure in rural area makes road trips impossible. The limited range of battery is also a problem for road trips. There are also other nodes such as car, electric, and vehicle, which are related to various kinds of EVs’ news. From the example above, D3 network from rules can help illustrate how each words connect to each other in order to gain insights into the connection. It also helps provide the opaque patterns, which is hard to understand by just reading the raw information. However, the measures threshold has to be carefully selected to remove the useless information from the graph. The file D3 network will be provide in the link below.
			</p>
			<br>
			
			<h4>arulesViz</h4>
			<p>
			The package looks similar to the previous network. The differences are the node are just single words with the used rule number. The other difference is that the interesting word can be selected in the plot, so it is much easier to find the related network. The picture of the overall network is shown below.
			</p>
			<br>

			<div class="img">
			<img width="600" src="image/assignment2/part2/image/allrules_aruleviz.jpg">
			<div class="caption">arulesViz</div>
			</div>
			<br>
			<p>
			The main nodes are electric, vehicle, charge, tesla, environment, and battery. The battery will be related to the all concerns in the battery such as lithium mining, cold weather, recycle problems, limited range. The charge will be about the infrastructure and the charging station. The tesla has connections with Elon Musk, stock price, and the product price. The electric and vehicle are very close to each other. They are all about the EVs’ production, sales, EVs’ models, and EV’s brand. The topics are related to the headline news. The environment has connections with fossil fuel and lithium mining. The results from aruleViz can help us to see the approximate number of topics in this dataset. This method illustrates the topics and how close of each topic is, which is easily understandable. 
			</p>
			<br>
			<h4>Fixed RHS</h4>
			<br>

			<div class="img">
			<img width="600" src="image/assignment2/part2/image/conf_charge.jpg">
			<div class="caption">RHS="charge"</div>
			</div>
			<br>

			<div class="img">
			<img width="600" src="image/assignment2/part2/image/conf_charge_function - Copy.jpg">
			<div class="caption">RHS="charge"</div>
			</div>
			<br>
			<p>
				After the interesting topics are collected, the related terms in that topic can be discovered by fixing the right-hand side (RHS). For example, RHS is set to be “charge”. All related words will be shown on the left-hand-side. In this case, there are {“need”,”station}, {“home”,”range”}, and {“car”,”cold”} rules. After reading the rules, many consumers can summarize that EVs need more charging station. EVs also need to have a charging station at home to get the maximum range before consumers use them. The final information is the EVs’ charging performance will reduce when the weather is so cold.
			</p>

			</div>
		</section>
		<br>
		
		<section id="pt4" class="card">
		<div class="arial">

		
		<h3>Conclusions</h3>
		
		<p>
		Those two graph methods, D3 network and arulesViz, give similar topics for this dataset. They are electric vehicle, charge, tesla, environment, and battery. The latter method is easier to understand how many topics do have in this dataset. However, the first graph method will be better if the contexts of topics are required to understand because there are several LHS that contains more than 1. The measures and their thresholds play important roles to make graph visualization effective. Among the measures, lift is more reliable. Several number thresholds and measures must be tried with the model to understand pros and cons of the information. Besides, there are several topics such as (electric, vehicle) and (battery, charge), which are close to each other. How close of the topics in this dataset from the association rules mining shows similarly to the previous methods, k-means, and hierarchical clustering.
		</p>
		<br>
	

		</div>
	</section>
		
	<section id="pt5" class="card">
		<div class="arial">
		<h2>Reference</h2>
			<ul>
				<li>https://www.youtube.com/watch?v=AIK_FRzyUEE&t=1029s&ab_channel=LanderAnalytics</li>
				<li>https://www.datacamp.com/tutorial/market-basket-analysis-r</li>

			</ul>
		<br>
		
		

		</div>
	</section>		


		
		<section id="Data" class="card">
			<b> Data </b>
			<br>
			<ul>
				<li><a href="https://o365coloradoedu-my.sharepoint.com/:u:/g/personal/tito7259_colorado_edu/Ed3rCZHFtVlArwIFIQEDDcUBeLEcjfwUjrTzCNR5m4dGAw?e=VJ2JcC">ARM_R_files</a></li>
				<li><a href="https://o365coloradoedu-my.sharepoint.com/:u:/g/personal/tito7259_colorado_edu/ESbOzSIC-HVMn8xMBzAptDIB-j6kPQraj_DMr0ksx1jdhQ?e=l1CLvi">ArulesViz</a></li>
				<li><a href="https://o365coloradoedu-my.sharepoint.com/:u:/g/personal/tito7259_colorado_edu/EWrvQh6nq2RBvLPtFQxstzkBaUYNVtyemW7yiiLWnuk7Vw?e=f5S7g7">D3 network</a></li>


			</ul>



		</section>

	</main>

</body>

<!-- Sidebar-->
<div id="sidebar" class="card">
	<h3>Navigation Pane</h3>
	<!-- Navigation -->
	<ul id="main-nav">
		<li><a href="#pt1">What ARM does and how to use it to gain information</a></li>
		<li><a href="#pt2">Data Preparation</a></li>
		<li><a href="#pt3">Results and Discussion</a></li>
		<li><a href="#pt4">Conclusion</a></li>
		<li><a href="#Data">Data</a></li>
	</ul>
	<hr />
	<h3>About me</h3>
	<ul>
		<li><strong>Email:</strong> tito7259@colorado.edu</li>
	</ul>
</div>